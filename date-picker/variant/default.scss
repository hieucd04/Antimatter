@use "~@miniskylab/antimatter-layer";
@use "~@miniskylab/antimatter-typography";
@use "~@miniskylab/antimatter-color-scheme";
@use "~@miniskylab/antimatter-calendar/variant/mini" as antimatter-calendar-mini;
@use "~@miniskylab/antimatter-button/variant/outlined-circular" as antimatter-button-outlined-circular;
@use "~@miniskylab/antimatter-button/variant/outlined-rectangular" as antimatter-button-outlined-rectangular;

@mixin variant($DatePicker) {
    @at-root {
        #{$DatePicker} {
            position: relative;
            display: inline-flex;
            width: 276px;
            height: 34px;

            &__InputField {
                width: 100%;
                height: 100%;
                padding: 6px 36px 6px 12px;
                border: none;
                outline: none;
                box-sizing: border-box;
                color: antimatter-color-scheme.$neutral;
                background-color: antimatter-color-scheme.$mine-shaft;
                font-size: antimatter-typography.$font-size--14px;
                text-align: inherit;

                &::placeholder {
                    color: antimatter-color-scheme.$gray;
                    font-style: italic;
                }
            }

            $Button-Addon: ".Button-Addon";
            @include antimatter-button-outlined-circular.variant($Button-Addon) {
                position: absolute;
                top: 0;
                right: 0;
                display: flex;
                width: 36px;
                height: 100%;
                border: none;
                color: antimatter-color-scheme.$neutral;

                .Button-Icon {
                    font-size: antimatter-typography.$font-size--16px;
                }

                @media (hover: hover) {

                    &:not(#{$Button-Addon}--Disabled):hover {
                        background-color: antimatter-color-scheme.$transparent;

                        &:active {
                            color: antimatter-color-scheme.$primary;
                            background-color: antimatter-color-scheme.$transparent;
                        }
                    }
                }

                &--Active {
                    color: antimatter-color-scheme.$primary;

                    @media (hover: hover) {

                        &:not(#{$Button-Addon}--Disabled):hover {
                            color: antimatter-color-scheme.$primary;

                            &:active {
                                color: antimatter-color-scheme.$white;
                            }
                        }
                    }
                }
            }

            &__Caret {
                position: absolute;
                top: -24px;
                right: 6px;
                width: 0;
                height: 0;
                border: 12px solid antimatter-color-scheme.$transparent;
                border-bottom-color: antimatter-color-scheme.$background;
                pointer-events: none;
            }

            &__CalendarContainer {
                position: absolute;
                top: 40px;
                right: 0;
                padding: 10px 12px 12px;
                background-color: antimatter-color-scheme.$background;
                box-shadow: 0 10px 20px antimatter-color-scheme.$black;
                z-index: antimatter-layer.$always-on-top;

                &:focus {
                    outline: none;
                }
            }

            $DatePicker-Calendar: ".DatePicker-Calendar";
            @include antimatter-calendar-mini.variant($DatePicker-Calendar) {

                .Calendar-Header {
                    $Calendar-Header-Navigator: ".Calendar-Header-Navigator";
                    @include antimatter-button-outlined-circular.variant($Calendar-Header-Navigator) {
                        @media (hover: hover) {

                            &:not(&--Disabled):hover {
                                color: antimatter-color-scheme.$white;

                                &:active {
                                    color: antimatter-color-scheme.$ambient;
                                }
                            }
                        }
                    }
                }

                .Calendar-MonthView {
                    $Calendar-MonthView-GridCell: ".Calendar-MonthView-GridCell";
                    @include antimatter-button-outlined-rectangular.variant($Calendar-MonthView-GridCell) {
                        @media (hover: hover) {

                            &:hover {
                                color: antimatter-color-scheme.$white;

                                &:active {
                                    color: antimatter-color-scheme.$ambient;
                                }
                            }
                        }
                    }
                }

                .Calendar-YearView {
                    $Calendar-YearView-GridCell: ".Calendar-YearView-GridCell";
                    @include antimatter-button-outlined-rectangular.variant($Calendar-YearView-GridCell) {
                        @media (hover: hover) {

                            &:hover {
                                color: antimatter-color-scheme.$white;

                                &:active {
                                    color: antimatter-color-scheme.$ambient;
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    #{$DatePicker} {
        @content;
    }
}
